(()=>{var e={};e.id=137,e.ids=[137],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1885:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),a=s(9108),l=s(2563),n=s.n(l),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["assistant",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1735)),"C:\\Users\\hp\\erp-portal\\frontend\\app\\assistant\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\hp\\erp-portal\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\hp\\erp-portal\\frontend\\app\\assistant\\page.tsx"],x="/assistant/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/assistant/page",pathname:"/assistant",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3758:(e,t,s)=>{Promise.resolve().then(s.bind(s,1407))},1407:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(5344),a=s(3729),l=s(8536),n=s(8852),i=s(4963),o=s(3577),d=s(4290),c=s(4513);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,s(9224).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var u=s(7751),p=s(9895),m=s(8534),h=s(8765),b=s(6135),g=s(8117);let f=[{id:1,text:"What is my onboarding status?",category:"HR"},{id:2,text:"Which department cost increased?",category:"Finance"},{id:3,text:"How many active projects are there?",category:"Operations"},{id:4,text:"What is the Burnout Velocity alert?",category:"Insights"}];function j(){let[e,t]=(0,a.useState)(""),[s,j]=(0,a.useState)([]),[y,w]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,q]=(0,a.useState)(null),Z=(0,a.useRef)(null);(0,a.useEffect)(()=>{Z.current&&(Z.current.scrollTop=Z.current.scrollHeight)},[s,y]);let _=async e=>{if(!e.trim())return;let s={role:"user",content:e};j(e=>[...e,s]),t(""),w(!0);try{let t=await g.Z.get(`/copilot/query?q=${encodeURIComponent(e)}`);j(e=>[...e,{role:"assistant",...t.data}])}catch(e){console.error("Assistant Error:",e),j(e=>[...e,{role:"assistant",answer:"I'm having trouble connecting to the brain right now. Please try again later.",context:"System Error"}])}finally{w(!1)}},z=async()=>{try{N(!0);let e=await g.Z.post("/copilot/train-auto");q(e.data),setTimeout(()=>{q(null)},5e3)}catch(e){console.error("Training Error:",e)}finally{N(!1)}};return(0,r.jsxs)("div",{className:"flex min-h-screen bg-[#f8fafc] flex-col md:flex-row",children:[r.jsx(l.Z,{}),(0,r.jsxs)("main",{className:"flex-1 p-4 md:p-10 overflow-y-auto max-h-screen custom-scrollbar flex flex-col",ref:Z,children:[(0,r.jsxs)("header",{className:"mb-8 border-b border-slate-200 pb-8 shrink-0 flex flex-col md:flex-row md:justify-between md:items-end gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white shadow-lg shadow-blue-200",children:r.jsx(n.Z,{size:24})}),r.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"ERP Copilot"})]}),r.jsx("p",{className:"text-slate-500 font-bold text-sm opacity-70",children:"Intelligent query-based assistant for enterprise data insights."})]}),(0,r.jsxs)("button",{onClick:z,disabled:v,className:`px-6 py-3 rounded-2xl font-black text-xs transition-all flex items-center gap-2 shadow-xl ${v?"bg-slate-100 text-slate-400":"bg-slate-900 text-white hover:bg-slate-800"}`,children:[v?r.jsx(i.Z,{size:16,className:"animate-spin"}):r.jsx(o.Z,{size:16}),v?"Neural Syncing...":"Train Assistant"]})]}),k&&(0,r.jsxs)("div",{className:"mb-8 bg-emerald-50 border border-emerald-100 p-6 rounded-[2rem] flex items-center justify-between animate-in slide-in-from-top-4 duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-emerald-500 text-white p-2 rounded-xl",children:r.jsx(d.Z,{size:20})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-black text-emerald-900",children:k.message}),(0,r.jsxs)("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest",children:[k.indexed_nodes," Knowledge Nodes Indexed â€¢ ",k.pending_questions," Pending Queries"]})]})]}),r.jsx("button",{onClick:()=>q(null),children:r.jsx(c.Z,{size:16,className:"text-emerald-400"})})]}),(0,r.jsxs)("div",{className:"flex-1 max-w-4xl mx-auto w-full flex flex-col gap-8 pb-32",children:[0===s.length&&!y&&(0,r.jsxs)("div",{className:"text-center py-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[r.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 border border-slate-100 shadow-sm",children:r.jsx(x,{className:"text-blue-600",size:40})}),r.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-3",children:"How can I help you today?"}),r.jsx("p",{className:"text-slate-500 font-bold max-w-sm mx-auto mb-10",children:"Choose a predefined query or type your own to get real-time analytical reports."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:f.map(e=>(0,r.jsxs)("button",{onClick:()=>_(e.text),className:"p-6 bg-white border border-slate-100 rounded-[2rem] hover:shadow-xl hover:border-blue-200 transition-all flex flex-col gap-3 group",children:[r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-blue-600 bg-blue-50 px-3 py-1 rounded-full w-fit",children:e.category}),(0,r.jsxs)("p",{className:"font-black text-slate-900 flex items-center justify-between",children:[e.text,r.jsx(u.Z,{size:18,className:"text-slate-300 group-hover:text-blue-600 transition-colors"})]})]},e.id))})]}),s.map((e,t)=>(0,r.jsxs)("div",{className:`flex gap-4 ${"user"===e.role?"flex-row-reverse":""} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[r.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${"user"===e.role?"bg-slate-900":"bg-blue-600 shadow-lg shadow-blue-200"}`,children:"user"===e.role?r.jsx(p.Z,{className:"text-white",size:20}):r.jsx(x,{className:"text-white",size:20})}),(0,r.jsxs)("div",{className:`p-6 md:p-8 rounded-[2rem] max-w-[85%] border shadow-sm ${"user"===e.role?"bg-slate-900 border-slate-800 text-white rounded-tr-none":"bg-white border-slate-100 rounded-tl-none"}`,children:["assistant"===e.role&&e.context&&r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-blue-600 mb-2 block",children:e.context}),r.jsx("p",{className:`font-bold text-sm leading-relaxed ${"user"===e.role?"text-slate-100":"text-slate-900"}`,children:e.answer||e.content}),e.logic_applied&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-50 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[r.jsx(m.Z,{size:12})," Logic: ",e.logic_applied]})]})]},t)),y&&(0,r.jsxs)("div",{className:"flex gap-4 animate-pulse",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-blue-200",children:r.jsx(x,{className:"text-white",size:20})}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] rounded-tl-none border border-slate-100 shadow-sm flex gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce"}),r.jsx("span",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce delay-100"}),r.jsx("span",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce delay-200"})]})]})]}),r.jsx("div",{className:"fixed bottom-10 left-0 md:left-72 right-0 px-6 z-30",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto bg-white p-2 rounded-[2.5rem] shadow-2xl border border-slate-100 flex items-center gap-4 group focus-within:ring-4 focus-within:ring-blue-500/10 transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center shrink-0",children:r.jsx(h.Z,{className:"text-slate-400",size:20})}),r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:t=>"Enter"===t.key&&_(e),placeholder:"Ask me anything about enterprise data...",className:"flex-1 border-none focus:ring-0 text-slate-900 font-bold placeholder:text-slate-300 bg-transparent"}),r.jsx("button",{onClick:()=>_(e),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shrink-0 shadow-lg shadow-blue-200 hover:bg-blue-700 transition-all active:scale-90",children:r.jsx(b.Z,{size:20})})]})})]})]})}},4290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7751:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6135:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},1735:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\Users\hp\erp-portal\frontend\app\assistant\page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[431,635,589,934,920],()=>s(1885));module.exports=r})();