(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{6854:function(e,t,s){Promise.resolve().then(s.bind(s,6127))},6127:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(3827),l=s(4090),r=s(1441),n=s(6227),i=s(94),c=s(559),d=s(4059),o=s(7805),x=s(9733),u=s(8967),m=s(8998),p=s(826);function b(){var e;let[t,s]=(0,l.useState)(!0),[b,h]=(0,l.useState)([]),[g,f]=(0,l.useState)("company"),[v,j]=(0,l.useState)(null),[w,N]=(0,l.useState)(!1),[y,k]=(0,l.useState)(!1),[_,C]=(0,l.useState)({title:"",description:"",target_value:100,unit:"%",level:"company",department:"",deadline:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString().split("T")[0]}),Z=async()=>{try{s(!0);let e=await p.Z.get("/strategy/okrs?level=".concat(g));h(e.data)}catch(e){console.error("Error fetching OKRs:",e)}finally{s(!1)}};(0,l.useEffect)(()=>{Z()},[g]);let S=async e=>{e.preventDefault();try{k(!0);let e={..._,key_results:[{text:"Define first key result",progress:0}]};await p.Z.post("/strategy/okrs",e),N(!1),C({title:"",description:"",target_value:100,unit:"%",level:"company",department:"",deadline:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString().split("T")[0]}),await Z()}catch(e){console.error("Error creating OKR:",e),alert("Failed to create objective")}finally{k(!1)}},z=async(e,t,s)=>{let a=prompt("Enter new progress percentage (0-100):",s.toString());if(null===a)return;let l=parseFloat(a);if(isNaN(l)||l<0||l>100){alert("Please enter a valid percentage between 0 and 100");return}try{if(k(!0),await p.Z.patch("/strategy/okrs/".concat(e,"/key-results/").concat(t,"?progress=").concat(l)),await Z(),v&&v.id===e&&b.find(t=>t.id===e)){let t=(await p.Z.get("/strategy/okrs?level=".concat(g))).data.find(t=>t.id===e);j(t)}}catch(e){console.error("Error updating Key Result:",e),alert("Failed to update progress")}finally{k(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen bg-[#f8fafc] flex-col md:flex-row relative",children:[(0,a.jsx)(r.Z,{}),(0,a.jsxs)("main",{className:"flex-1 p-4 md:p-10 overflow-y-auto max-h-screen custom-scrollbar",children:[(0,a.jsxs)("header",{className:"mb-10 flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-3xl font-black text-slate-900 tracking-tight flex items-center gap-3",children:[(0,a.jsx)(n.Z,{className:"text-blue-600",size:32})," OKRs & Strategy"]}),(0,a.jsx)("p",{className:"text-slate-500 mt-1 font-bold text-sm opacity-70",children:"Company-wide objectives, key results, and department alignment."})]}),(0,a.jsxs)("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-200 active:scale-95 flex items-center gap-2",children:[(0,a.jsx)(i.Z,{size:18})," New Objective"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)("button",{onClick:()=>f("company"),className:"px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2 ".concat("company"===g?"bg-slate-900 text-white shadow-lg":"bg-white border border-slate-100 text-slate-400 hover:text-slate-900 shadow-sm"),children:[(0,a.jsx)(c.Z,{size:16})," Company"]}),(0,a.jsxs)("button",{onClick:()=>f("department"),className:"px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2 ".concat("department"===g?"bg-[#10b981] text-white shadow-lg":"bg-white border border-slate-100 text-slate-400 hover:text-slate-900 shadow-sm"),children:[(0,a.jsx)(d.Z,{size:16})," Department"]})]}),t?(0,a.jsx)("div",{className:"space-y-8 animate-pulse",children:[1,2].map(e=>(0,a.jsx)("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 h-64"},e))}):(0,a.jsxs)("div",{className:"space-y-8",children:[0===b.length&&(0,a.jsxs)("div",{className:"text-center py-20 bg-white rounded-[3rem] border border-dashed border-slate-200",children:[(0,a.jsx)(n.Z,{size:48,className:"text-slate-200 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-black text-slate-400",children:"No OKRs Found"}),(0,a.jsx)("p",{className:"text-slate-300 font-bold",children:"Start by creating your first strategic objective."})]}),b.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden group",children:[(0,a.jsxs)("div",{className:"p-8 md:p-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("span",{className:"px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ".concat("on_track"===e.status?"bg-emerald-50 text-emerald-600 border-emerald-100":"at_risk"===e.status?"bg-amber-50 text-amber-600 border-amber-100":"bg-rose-50 text-rose-600 border-rose-100"),children:e.status.replace("_"," ")}),(0,a.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"department"===e.level?"".concat(null===(t=e.department)||void 0===t?void 0:t.toUpperCase()," DEPT"):e.owner_name||"Organization"})]}),(0,a.jsx)("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e.title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:[e.current_value,"%"]}),(0,a.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mt-1",children:"Total Progress"})]}),(0,a.jsx)("button",{onClick:()=>j(e),className:"p-4 bg-slate-50 text-slate-300 rounded-2xl group-hover:bg-blue-600 group-hover:text-white transition-all shadow-sm active:scale-90",children:(0,a.jsx)(o.Z,{size:24})})]})]}),(0,a.jsx)("div",{className:"h-3 w-full bg-slate-50 rounded-full overflow-hidden mb-12",children:(0,a.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat("on_track"===e.status?"bg-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.3)]":"bg-rose-500 shadow-[0_0_20px_rgba(244,63,94,0.3)]"),style:{width:"".concat(e.current_value,"%")}})}),(null===(s=e.key_results)||void 0===s?void 0:s.length)>0&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-50 pb-4",children:"Key Results Breakdown"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.key_results.map((e,t)=>(0,a.jsxs)("div",{className:"bg-slate-50/50 p-6 rounded-3xl border border-slate-100/50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-slate-700 leading-snug max-w-[200px]",children:e.text}),(0,a.jsxs)("span",{className:"text-sm font-black text-slate-900",children:[e.progress,"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 w-full bg-slate-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full",style:{width:"".concat(e.progress,"%")}})})]},t))})]})]}),(0,a.jsxs)("div",{className:"px-10 py-6 bg-slate-50/50 border-t border-slate-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,a.jsx)(x.Z,{size:14,className:"text-emerald-500"})," Real-time strategic updates"]}),(0,a.jsxs)("button",{onClick:()=>j(e),className:"text-blue-600 font-black text-xs uppercase tracking-widest flex items-center gap-2 hover:translate-x-1 transition-transform",children:["Strategic Alignment ",(0,a.jsx)(u.Z,{size:14})]})]})]},e.id)})]}),v&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-md bg-slate-900/40 animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in-95 duration-300",children:[(0,a.jsxs)("div",{className:"w-full md:w-[35%] bg-slate-900 p-10 text-white flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-blue-600/20 text-blue-400 w-fit px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest mb-6 border border-blue-500/30",children:"company"===v.level?"Strategic Goal":"Dept Initiative"}),(0,a.jsx)("h3",{className:"text-3xl font-black leading-tight mb-4 tracking-tight",children:v.title}),(0,a.jsx)("p",{className:"text-slate-400 font-medium text-sm leading-relaxed mb-8",children:v.description}),(0,a.jsxs)("div",{className:"space-y-6 mb-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-slate-800 rounded-2xl",children:(0,a.jsx)(d.Z,{size:18,className:"text-slate-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Owner"}),(0,a.jsx)("p",{className:"text-sm font-bold text-slate-200",children:v.owner_name})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-slate-800 rounded-2xl",children:(0,a.jsx)(m.Z,{size:18,className:"text-slate-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Deadline"}),(0,a.jsx)("p",{className:"text-sm font-bold text-slate-200",children:v.deadline?new Date(v.deadline).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"No set deadline"})]})]})]})]}),(0,a.jsx)("button",{onClick:()=>j(null),className:"w-full py-4 bg-slate-800 hover:bg-slate-700 text-slate-300 font-black text-xs uppercase tracking-widest rounded-2xl transition-all",children:"Close View"})]}),(0,a.jsxs)("div",{className:"flex-1 p-10 overflow-y-auto bg-[#fafbfc]",children:[(0,a.jsxs)("div",{className:"flex items-end justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Current Achievement"}),(0,a.jsxs)("p",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:[v.current_value,"%"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("span",{className:"px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border mb-2 ".concat("on_track"===v.status?"bg-emerald-50 text-emerald-600 border-emerald-100":"at_risk"===v.status?"bg-amber-50 text-amber-600 border-amber-100":"bg-rose-50 text-rose-600 border-rose-100"),children:v.status.replace("_"," ")}),(0,a.jsxs)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Target: ",v.target_value,v.unit]})]})]}),(0,a.jsx)("div",{className:"h-4 w-full bg-slate-200 rounded-full overflow-hidden mb-12 shadow-inner",children:(0,a.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat("on_track"===v.status?"bg-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.3)]":"bg-rose-500 shadow-[0_0_20px_rgba(244,63,94,0.3)]"),style:{width:"".concat(v.current_value,"%")}})}),(0,a.jsx)("h5",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400 mb-6 border-b border-slate-200 pb-4",children:"Alignment Breakdown"}),(0,a.jsx)("div",{className:"space-y-4",children:null===(e=v.key_results)||void 0===e?void 0:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/kr",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-black text-slate-800",children:e.text}),(0,a.jsx)("button",{disabled:y,onClick:()=>z(v.id,t,e.progress),className:"bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white p-2 rounded-xl transition-all shadow-sm group-hover/kr:scale-105",children:(0,a.jsx)(i.Z,{size:16})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-700",style:{width:"".concat(e.progress,"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-black text-slate-900 w-10 text-right",children:[e.progress,"%"]})]})]},t))}),(0,a.jsxs)("div",{className:"mt-12 p-6 bg-blue-50 rounded-[2rem] border border-blue-100/50 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-white rounded-2xl shadow-sm",children:(0,a.jsx)(x.Z,{size:20,className:"text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-black text-blue-900 mb-1",children:"Strategic Impact"}),(0,a.jsxs)("p",{className:"text-xs font-medium text-blue-700/70 leading-relaxed",children:["This objective is directly aligned with the ",v.level," focus for Q1. Key results are verified through active system metrics."]})]})]})]})]})}),w&&(0,a.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 backdrop-blur-xl bg-slate-900/60 animate-in fade-in duration-300",children:(0,a.jsx)("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:(0,a.jsxs)("div",{className:"p-10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[(0,a.jsx)("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Create Objective"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"p-3 bg-slate-100 text-slate-400 rounded-2xl hover:bg-rose-50 hover:text-rose-600 transition-all",children:(0,a.jsx)(i.Z,{size:24,className:"rotate-45"})})]}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Objective Title"}),(0,a.jsx)("input",{required:!0,type:"text",placeholder:"e.g. Master Global Infrastructure",className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900",value:_.title,onChange:e=>C({..._,title:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Description"}),(0,a.jsx)("textarea",{placeholder:"What is the strategic impact of this goal?",className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900 min-h-[100px]",value:_.description,onChange:e=>C({..._,description:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Strategy Level"}),(0,a.jsxs)("select",{className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900",value:_.level,onChange:e=>C({..._,level:e.target.value}),children:[(0,a.jsx)("option",{value:"company",children:"Company Wide"}),(0,a.jsx)("option",{value:"department",children:"Department Specific"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Target Value"}),(0,a.jsx)("input",{required:!0,type:"number",className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900",value:_.target_value,onChange:e=>C({..._,target_value:parseFloat(e.target.value)})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Deadline"}),(0,a.jsx)("input",{required:!0,type:"date",className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900",value:_.deadline,onChange:e=>C({..._,deadline:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2",children:"Unit"}),(0,a.jsx)("input",{required:!0,type:"text",placeholder:"e.g. %, leads, days",className:"w-full bg-slate-50 border border-slate-100 px-6 py-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900",value:_.unit,onChange:e=>C({..._,unit:e.target.value})})]})]}),(0,a.jsx)("button",{disabled:y,type:"submit",className:"w-full bg-blue-600 text-white py-5 rounded-[2rem] font-black text-sm uppercase tracking-[0.2em] shadow-2xl shadow-blue-200 hover:bg-blue-700 transition-all active:scale-95 disabled:opacity-50 mt-4",children:y?"Launching Strategy...":"Launch Objective"})]})]})})})]})]})}},8998:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8967:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},6227:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])}},function(e){e.O(0,[4549,2649,3107,8992,2971,8069,1744],function(){return e(e.s=6854)}),_N_E=e.O()}]);